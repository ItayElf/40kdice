<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>AoS Visual Dice Calculator</title>
    <link href="dice.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="dice-TOKEN.js"></script>
    <script type="text/javascript" src="chart.js/dist/chart.umd.js"></script>
    <link
      rel="apple-touch-icon-precomposed"
      sizes="144x144"
      href="http://ghostlords.com/favicon-144.png"
    />
    <link
      rel="apple-touch-icon-precomposed"
      sizes="152x152"
      href="http://ghostlords.com/favicon-152.png"
    />
    <link
      rel="icon"
      type="image/png"
      href="http://ghostlords.com/favicon-32.png"
      sizes="32x32"
    />
    <link
      rel="icon"
      type="image/png"
      href="http://ghostlords.com/favicon-16.png"
      sizes="16x16"
    />
    <link href="./output.css" rel="stylesheet" />
  </head>
  <body onload="init_aos()">
    <img
      src="images/aos_background.webp"
      class="top-0 fixed w-full h-[100vh] -z-10"
    />
    <div class="top-o">
      <div class="container bg-white/90 mx-auto my-12 px-8 py-12 rounded-xl">
        <img src="images/aoslogo.webp" class="w-[20rem] mx-auto mb-2" />
        <h1 class="text-center text-3xl mb-8 sm:mb-4 sm:text-4xl">
          AoS Visual Dice Calculator
        </h1>

        <div
          class="p-4 my-8 rounded-md shadow bg-slate-300 mx-auto sm:w-[90%] lg:w-[60%]"
        >
          <p>Please also check out the version for <a href="/dice/">40K</a></p>
        </div>
        <div
          class="w-full sm:grid lg:grid-cols-2 xl:grid-cols-3 sm:justify-evenly"
        >
          <h2 class="text-center text-2xl mb-4 lg:col-span-2 xl:col-span-2">
            Attack Stats
          </h2>
          <h2 class="text-center text-2xl mb-4 hidden xl:inline">
            Defense Stats
          </h2>
          <div class="space-y-4 px-4">
            <div>
              <label
                for="attacks"
                class="block mb-2 text-md font-medium text-gray-900"
                >Attacks</label
              >
              <input
                type="text"
                id="attacks"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                placeholder="Ex: 4, 2d3, d6+1"
              />
            </div>
            <div>
              <label
                for="hit"
                class="block mb-2 text-md font-medium text-gray-900"
                >To Hit</label
              >
              <input
                type="number"
                id="hit"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                placeholder="Ex: 4, leave blank to auto-hit"
              />
            </div>
            <div>
              <label
                for="hit_mod"
                class="block mb-2 text-md font-medium text-gray-900"
                >Hit Modifier</label
              >
              <input
                type="number"
                id="hit_mod"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                placeholder="Ex: 1, -2"
              />
            </div>
            <div>
              <label
                for="hit_of_6"
                class="block mb-2 text-md font-medium text-gray-900"
                >Hit rolls of 6</label
              >
              <select
                id="hit_of_6"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
              >
                <option value="">Do nothing special</option>
                <option value="1roll">Generate 1 extra hit roll</option>
                <option value="1">Generate 1 extra hit</option>
                <option value="2">Generate 2 extra hits</option>
                <option value="autowound">
                  Automatically pass their wound roll
                </option>
                <option value="+mortal">
                  Deal 1 mortal wound in addition to regular damage
                </option>
                <option value="mortal">
                  Deal their damage as mortal wounds
                </option>
              </select>
            </div>
            <div>
              <label
                for="hit_reroll"
                class="block mb-2 text-md font-medium text-gray-900"
                >Reroll</label
              >
              <select
                id="hit_reroll"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
              >
                <option value="">No hit rolls</option>
                <option value="1">Hit rolls of 1</option>
                <option value="fail">Failed hit rolls</option>
                <option value="noncrit">Non-critical hit rolls</option>
              </select>
            </div>
          </div>
          <hr class="mx-4 h-px my-8 bg-gray-500 border-0 lg:hidden" />
          <div class="space-y-4 px-4">
            <div class="flex">
              <div class="w-1/2 pr-2">
                <label
                  for="wound"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >To Wound</label
                >
                <input
                  type="number"
                  id="wound"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: 4, leave blank to auto-wound"
                />
              </div>
              <div class="w-1/2 pl-2">
                <label
                  for="wound_mod"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Wound Modifier</label
                >
                <input
                  type="number"
                  id="wound_mod"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: 1, -2"
                />
              </div>
            </div>
            <div>
              <label
                for="wound_of_6"
                class="block mb-2 text-md font-medium text-gray-900"
                >Wound rolls of 6</label
              >
              <select
                id="wound_of_6"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
              >
                <option value="">Do nothing special</option>
                <option value="-1">Are resolved with -1 to Rend</option>
                <option value="-3">Are resolved with -3 to Rend</option>
                <option value="-4">Are resolved with -4 to Rend</option>
                <option value="+mortal">
                  Deal 1 mortal wound in addition to regular damage
                </option>
                <option value="mortal">
                  Deal their damage as mortal wounds
                </option>
              </select>
            </div>
            <div>
              <label
                for="wound_reroll"
                class="block mb-2 text-md font-medium text-gray-900"
                >Reroll</label
              >
              <select
                id="wound_reroll"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
              >
                <option value="">Do nothing special</option>
                <option value="-1">Are resolved with -1 to Rend</option>
                <option value="-3">Are resolved with -3 to Rend</option>
                <option value="-4">Are resolved with -4 to Rend</option>
                <option value="+mortal">
                  Deal 1 mortal wound in addition to regular damage
                </option>
                <option value="mortal">
                  Deal their damage as mortal wounds
                </option>
              </select>
            </div>
            <div>
              <label
                for="rend"
                class="block mb-2 text-md font-medium text-gray-900"
                >Rend</label
              >
              <input
                type="number"
                id="rend"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                placeholder="Ex: -1, 2 (sign is ignored)"
              />
            </div>
            <div>
              <label
                for="d"
                class="block mb-2 text-md font-medium text-gray-900"
                >Damage</label
              >
              <input
                type="text"
                id="d"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                placeholder="Ex: 4, 2d3, d6+1"
              />
            </div>
          </div>
          <h2 class="text-center text-2xl mb-4 mt-8 lg:col-span-2 xl:hidden">
            Defense Stats
          </h2>
          <div class="space-y-4 px-4">
            <div>
              <label
                for="save"
                class="block mb-2 text-md font-medium text-gray-900"
                >Save</label
              >
              <input
                type="number"
                id="save"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                placeholder="Ex: 4"
              />
            </div>
            <div class="flex items-end">
              <div class="w-2/3">
                <label
                  for="save_mod"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Save Modifier</label
                >
                <input
                  type="number"
                  id="save_mod"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: 1, -2"
                />
              </div>
              <div class="flex items-center ps-4">
                <input
                  id="cover"
                  type="checkbox"
                  name="cover"
                  class="w-4 h-4 text-blue-600 bg-gray-100 focus:ring-blue-500 focus:ring-2"
                />
                <label
                  for="cover"
                  class="w-full py-4 ms-2 text-sm font-medium text-gray-900"
                  >Cover</label
                >
              </div>
            </div>
            <div>
              <label
                for="save_reroll"
                class="block mb-2 text-md font-medium text-gray-900"
                >Reroll</label
              >
              <select
                id="save_reroll"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
              >
                <option value="">No save rolls</option>
                <option value="1">Any save rolls of 1</option>
                <option value="fail">Any failed save rolls</option>
              </select>
            </div>
            <div>
              <label
                for="wounds"
                class="block mb-2 text-md font-medium text-gray-900"
                >Wounds Per Model</label
              >
              <input
                type="number"
                id="wounds"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                placeholder="Ex: 1, 13, leave blank if you don't care"
              />
            </div>
            <div>
              <label
                for="shake"
                class="block mb-2 text-md font-medium text-gray-900"
                >Shake Off Wounds</label
              >
              <select
                id="shake"
                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
              >
                <option value="">Never</option>
                <option value="6">On a roll of 6</option>
                <option value="56">On a roll of 5 or 6</option>
              </select>
            </div>
          </div>
        </div>
        <div class="mt-8 mb-4 flex items-center justify-center w-full">
          <button
            class="text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-md px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700"
            onclick="roll_aos()"
          >
            Roll!
          </button>
        </div>
        <div
          id="charts-container"
          class="grid grid-cols-2 lg:grid-cols-3 xl:flex xl:justify-evenly mb-8"
        >
          <div class="flex flex-col justify-center items-center">
            <div class="chart">
              <canvas id="attack_chart" width="100" height="100"></canvas>
            </div>
            <p id="attack_text"></p>
          </div>
          <div class="flex flex-col justify-center items-center">
            <div class="chart">
              <canvas id="hit_chart" width="100" height="100"></canvas>
            </div>
            <p id="hit_text"></p>
          </div>
          <div class="flex flex-col justify-center items-center">
            <div class="chart">
              <canvas id="wound_chart" width="100" height="100"></canvas>
            </div>
            <p id="wound_text"></p>
          </div>
          <div class="flex flex-col justify-center items-center">
            <div class="chart">
              <canvas id="unsaved_chart" width="100" height="100"></canvas>
            </div>
            <p id="unsaved_text"></p>
          </div>
          <div class="flex flex-col justify-center items-center">
            <div class="chart">
              <canvas id="damage_chart" width="100" height="100"></canvas>
            </div>
            <p id="damage_text"></p>
          </div>
          <div class="flex flex-col justify-center items-center">
            <div class="chart">
              <canvas id="killed_chart" width="100" height="100"></canvas>
            </div>
            <p id="killed_text"></p>
          </div>
        </div>

        <p class="endnote">
          This tool was created by
          <a href="http://ghostlords.com/">Jonathan Polley</a> to help enhance
          your enjoyment of Warhammer: Age of Sigmar. Please direct any feedback
          to <a href="mailto:40k@ghostlords.com">40k@ghostlords.com</a>.<br />
          Bug reports are welcome on
          <a href="https://github.com/toadchild/40kdice/issues">Github</a
          >.<br />
          <a href="https://www.games-workshop.com/Warhammer"
            >Warhammer: Age of Sigmar</a
          >
          is &copy; Games Workshop Limited.<br />
          Wallpaper credit goes to
          <a
            href="https://www.warhammer-community.com/new-age-of-sigmar-wallpaper/"
            >Warhammer Community</a
          >.
        </p>
      </div>
    </div>
  </body>
</html>

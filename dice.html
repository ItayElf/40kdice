<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>40K Visual Dice Calculator (10th Ed)</title>
    <link href="dice.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="dice-TOKEN.js"></script>
    <script type="text/javascript" src="chart.js/dist/chart.umd.js"></script>
    <link
      rel="apple-touch-icon-precomposed"
      sizes="144x144"
      href="http://ghostlords.com/favicon-144.png"
    />
    <link
      rel="apple-touch-icon-precomposed"
      sizes="152x152"
      href="http://ghostlords.com/favicon-152.png"
    />
    <link
      rel="icon"
      type="image/png"
      href="http://ghostlords.com/favicon-32.png"
      sizes="32x32"
    />
    <link
      rel="icon"
      type="image/png"
      href="http://ghostlords.com/favicon-16.png"
      sizes="16x16"
    />
  </head>
  <link href="./output.css" rel="stylesheet" />
  <body onload="init_40k()">
    <img
      src="images/background.webp"
      class="top-0 fixed w-full h-[100vh] -z-10"
    />
    <div class="top-0">
      <div class="container bg-white/90 mx-auto my-12 px-8 py-12 rounded-xl">
        <img src="images/40klogo.webp" class="w-[20rem] mx-auto -my-12" />
        <h1 class="text-center text-3xl mb-8 sm:mb-4 sm:text-4xl">
          40K Visual Dice Calculator (10th Ed)
        </h1>
        <div class="p-4 my-8 rounded-md shadow bg-slate-300 mx-auto w-[60%]">
          <p class="font-medium">Notes:</p>
          <p>
            Please also check out the version for
            <a href="/dice/aos.html">AoS</a>
          </p>
          <p>
            The update to 10th Edition is new and there may still be bugs.
            However, I've also fixed a number of existing bugs and limitations
            while adding support for new rules and abilities. As always, any
            feedback or bug reports are welcome.
          </p>
        </div>

        <div class="mb-8 mt-4">
          <div
            class="w-full sm:grid lg:grid-cols-2 xl:grid-cols-4 sm:justify-evenly"
          >
            <h2 class="text-center text-2xl mb-4 lg:col-span-2 xl:col-span-3">
              Attack Stats
            </h2>
            <h2 class="text-center text-2xl mb-4 hidden xl:inline">
              Defense Stats
            </h2>
            <div class="space-y-4 px-4">
              <div>
                <label
                  for="attacks"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Attacks</label
                >
                <input
                  type="text"
                  id="attacks"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: 4, 2d3, d6+1"
                />
              </div>
              <div>
                <label
                  for="bs"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >BS / WS</label
                >
                <input
                  type="number"
                  id="bs"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: 4, leave blank to auto-hit"
                />
              </div>
              <div>
                <label
                  for="s"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Strength</label
                >
                <input
                  type="number"
                  id="s"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: 4, leave blank to auto-wound"
                />
              </div>
              <div>
                <label
                  for="ap"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >AP</label
                >
                <input
                  type="number"
                  id="ap"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: -1, 2 (sign is ignored)"
                />
              </div>
              <div>
                <label
                  for="d"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Damage</label
                >
                <input
                  type="text"
                  id="d"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: 4, 2d3, d6+1"
                />
              </div>
            </div>
            <hr class="mx-4 h-px my-8 bg-gray-500 border-0 lg:hidden" />
            <div class="space-y-4 px-4">
              <div class="flex items-end">
                <div class="w-2/3">
                  <label
                    for="hit_mod"
                    class="block mb-2 text-md font-medium text-gray-900"
                    >Hit Modifier</label
                  >
                  <input
                    type="number"
                    id="hit_mod"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                    placeholder="Ex: 1, -2"
                  />
                </div>
                <div class="flex items-center ps-4">
                  <input
                    id="hit_leth"
                    type="checkbox"
                    name="hit_leth"
                    class="w-4 h-4 text-blue-600 bg-gray-100 focus:ring-blue-500 focus:ring-2"
                  />
                  <label
                    for="hit_leth"
                    class="w-full py-4 ms-2 text-sm font-medium text-gray-900"
                    >Lethal Hits</label
                  >
                </div>
              </div>
              <div>
                <label
                  for="hit_sus"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Sustained Hits</label
                >
                <input
                  type="number"
                  id="hit_sus"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: 1, 2"
                />
              </div>
              <div>
                <label
                  for="hit_crit"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Critical Hits</label
                >
                <input
                  type="number"
                  id="hit_crit"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: 2, 4"
                />
              </div>
              <div>
                <label
                  for="hit_of_6"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Critical Hits Roll</label
                >
                <select
                  id="hit_of_6"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                >
                  <option value="">Have no other abilities</option>
                  <option value="+mortal">
                    Deal 1 mortal wound in addition to regular damage
                  </option>
                  <option value="mortal">
                    Deal their damage as mortal wounds
                  </option>
                </select>
              </div>
              <div>
                <label
                  for="hit_reroll"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Reroll</label
                >
                <select
                  id="hit_reroll"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                >
                  <option value="">No hit rolls</option>
                  <option value="1">Hit rolls of 1</option>
                  <option value="fail">Failed hit rolls</option>
                  <option value="noncrit">Non-critical hit rolls</option>
                </select>
              </div>
            </div>
            <h2
              class="text-center text-2xl mb-4 mt-8 hidden lg:inline xl:hidden"
            >
              Attack Stats (More)
            </h2>
            <h2
              class="text-center text-2xl mb-4 mt-8 hidden lg:inline xl:hidden"
            >
              Defense Stats
            </h2>
            <hr class="mx-4 h-px my-8 bg-gray-500 border-0 lg:hidden" />
            <div class="space-y-4 px-4">
              <div>
                <label
                  for="wound_mod"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Wound Modifier</label
                >
                <input
                  type="number"
                  id="wound_mod"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: 1, -2"
                />
              </div>
              <div class="flex items-center pb-2 pt-4">
                <input
                  id="wound_dev"
                  type="checkbox"
                  name="wound_dev"
                  class="w-4 h-4 text-blue-600 bg-gray-100 focus:ring-blue-500 focus:ring-2"
                />
                <label
                  for="wound_dev"
                  class="w-full py-4 ms-2 text-sm font-medium text-gray-900"
                  >Devastating Wounds</label
                >
              </div>
              <div>
                <label
                  for="wound_crit"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Critical Wound (Anti-X)</label
                >
                <input
                  type="number"
                  id="wound_crit"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: 2, 4"
                />
              </div>
              <div>
                <label
                  for="wound_of_6"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Critical Hits Roll</label
                >
                <select
                  id="wound_of_6"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                >
                  <option value="">Have no other abilities</option>
                  <option value="+mortal">
                    Deal 1 mortal wound in addition to regular damage
                  </option>
                </select>
              </div>
              <div>
                <label
                  for="wound_reroll"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Critical Wounds Roll</label
                >
                <select
                  id="wound_reroll"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                >
                  <option value="">No wound rolls</option>
                  <option value="1">Wound rolls of 1</option>
                  <option value="fail">Failed wound rolls</option>
                  <option value="noncrit">Non-critical wound rolls</option>
                </select>
              </div>
            </div>
            <h2 class="text-center text-2xl mb-4 mt-8 lg:hidden">
              Defense Stats
            </h2>
            <div class="space-y-4 px-4">
              <div>
                <label
                  for="t"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Toughness</label
                >
                <input
                  type="number"
                  id="t"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: 4, leave blank to auto-wound"
                />
              </div>
              <div class="flex items-end space-x-2">
                <div>
                  <label
                    for="save"
                    class="block mb-2 text-md font-medium text-gray-900"
                    >Save</label
                  >
                  <input
                    type="number"
                    id="save"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                    placeholder="Ex: 4"
                  />
                </div>
                <div>
                  <label
                    for="save_mod"
                    class="block mb-2 text-md font-medium text-gray-900"
                    >Save Modifier</label
                  >
                  <input
                    type="number"
                    id="save_mod"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                    placeholder="Ex: 1, -2"
                  />
                </div>
                <div>
                  <label
                    for="invulnerable"
                    class="block mb-2 text-md font-medium text-gray-900"
                    >Invulnerable</label
                  >
                  <input
                    type="number"
                    id="invulnerable"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                    placeholder="Ex: 4"
                  />
                </div>
              </div>
              <div>
                <label
                  for="wounds"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Wounds Per Model</label
                >
                <input
                  type="number"
                  id="wounds"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: 1, 13, leave blank if you don't care"
                />
              </div>
              <div>
                <label
                  for="fnp"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Feel No Pain</label
                >
                <input
                  type="number"
                  id="fnp"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                  placeholder="Ex: 4, 6"
                />
              </div>
              <div>
                <label
                  for="save_reroll"
                  class="block mb-2 text-md font-medium text-gray-900"
                  >Reroll</label
                >
                <select
                  id="save_reroll"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                >
                  <option value="">No save rolls</option>
                  <option value="1">Any save rolls of 1</option>
                  <option value="fail">Any failed save rolls</option>
                  <option value="inv_1">Invulnerable save rolls of 1</option>
                  <option value="inv_fail">
                    Failed invulnerable save rolls
                  </option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <div class="mt-8 mb-4 flex items-center justify-center w-full">
          <button
            class="text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-md px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700"
            onclick="roll_40k()"
          >
            Roll!
          </button>
        </div>

        <div
          class="grid grid-cols-2 lg:grid-cols-3 xl:flex xl:justify-evenly mb-8"
        >
          <div class="flex flex-col justify-center items-center">
            <div class="chart">
              <canvas id="attack_chart" width="100" height="100"></canvas>
            </div>
            <p id="attack_text"></p>
          </div>
          <div class="flex flex-col justify-center items-center">
            <div class="chart">
              <canvas id="hit_chart" width="100" height="100"></canvas>
            </div>
            <p id="hit_text"></p>
          </div>
          <div class="flex flex-col justify-center items-center">
            <div class="chart">
              <canvas id="wound_chart" width="100" height="100"></canvas>
            </div>
            <p id="wound_text"></p>
          </div>
          <div class="flex flex-col justify-center items-center">
            <div class="chart">
              <canvas id="unsaved_chart" width="100" height="100"></canvas>
            </div>
            <p id="unsaved_text"></p>
          </div>
          <div class="flex flex-col justify-center items-center">
            <div class="chart">
              <canvas id="damage_chart" width="100" height="100"></canvas>
            </div>
            <p id="damage_text"></p>
          </div>
          <div class="flex flex-col justify-center items-center">
            <div class="chart">
              <canvas id="killed_chart" width="100" height="100"></canvas>
            </div>
            <p id="killed_text"></p>
          </div>
        </div>
        <p class="endnote">
          This tool was created by
          <a href="http://ghostlords.com/">Jonathan Polley</a> to help enhance
          your enjoyment of Warhammer 40000. Please direct any feedback to
          <a href="mailto:40k@ghostlords.com">40k@ghostlords.com</a>.<br />
          Bug reports are welcome on
          <a href="https://github.com/toadchild/40kdice/issues">Github</a
          >.<br />
          <a href="https://www.games-workshop.com/Warhammer-40-000"
            >Warhammer 40000</a
          >
          is &copy; Games Workshop Limited.<br />
          Wallpaper credit goes to
          <a href="https://www.patreon.com/brushray">Dmitry Brushray</a>
        </p>
      </div>
    </div>
  </body>
</html>
